<!DOCTYPE html>
<html>
<body style="font-family:sans-serif">

<input type="file" id="file" accept="image/*"><br><br>
<input type="text" id="text" placeholder="入れる文字"><br><br>
<button onclick="go()">合成</button><br><br>

<canvas id="c"></canvas>

<script>
function go(){
  const f = file.files[0];
  if(!f) return alert("画像選んで");

  const img = new Image();
  img.onload = ()=>{
    const c = document.getElementById("c");
    c.width = img.width;
    c.height = img.height;
    const ctx = c.getContext("2d");

    ctx.drawImage(img,0,0);

    ctx.font = "48px sans-serif";
    ctx.fillStyle = "white";
    ctx.strokeStyle = "black";
    ctx.lineWidth = 4;

    const txt = text.value;
    ctx.strokeText(txt,20,img.height-40);
    ctx.fillText(txt,20,img.height-40);
  };
  img.src = URL.createObjectURL(f);
}
</script>
</body>
</html>
